<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    <title>The Heaven Guard</title>

    <!-- WinJS references -->
    <link href="/Microsoft.WinJS.4.4/css/ui-dark.css" rel="stylesheet" />

    <script src="/Microsoft.WinJS.4.4/js/base.js"></script>
    <script src="/Microsoft.WinJS.4.4/js/ui.js"></script>

    <!-- TheHeavenGuard references -->
    <link href="/css/MainWindow.css" rel="stylesheet" />

    <script src="/js/libs/pouchdb-5.4.4.min.js"></script> <!-- NoSQL javascript database https://pouchdb.com/ -->
    <script src="/js/libs/oboe-browser.min.js"></script> <!-- library for loading JSON using streaming http://oboejs.com/-->

    <script src="/js/Configurations.js"></script> <!-- cloud's uri for xhr -->
    <!--
        MainWindow.js use
        PouchDB as local database,
        Configurator as cloud uri for xhr
    -->
    <script src="/js/MainWindow.js"></script>
    <script src="/js/SettingsPage.js"></script>

    <script src="/js/Databases.js"></script> <!-- Configure databases -->
    <script src="/js/FileBrowser.js"></script> <!-- Client side files to synchronize -->
    <script src="/js/AuthenticationBroker.js"></script> <!-- Authenticate in cloud services -->
    <script src="/js/AuthPanel.js"></script> <!-- Left panel functions -->
    <script src="/js/BackgroundTransfer.js"></script> <!-- Upload file to server -->
    <script src="/js/XMLHttpRequest.js"></script> <!-- XHR over all -->
</head>

<body>
    <img id="headLogoImg" src="/img/Main-logo68x48.png" width="68" height="48" /> <!-- static logo -->
    <!-- Content area -->
    <div id="pivot" data-win-control="WinJS.UI.Pivot" data-win-options="{ customLeftHeader: select('#headLogoImg') }">
        <div data-win-control="WinJS.UI.PivotItem" data-win-options="{ header : 'Main Page' }">
            <div class="main-page" id="mainPage">
                <div class="toolbar">
                    <div id="startSyncFilesBtn" class="toolbar-btn toolbar-btn-left"
                         data-win-control="WinJS.UI.NavBarCommand"
                         data-win-options="{
                            icon: 'sync',
                            label: 'Start Sync' }">
                    </div>

                    <div id="removeItemsBtn" class="toolbar-btn toolbar-btn-center"
                         data-win-control="WinJS.UI.NavBarCommand"
                         data-win-options="{
                            icon: 'delete',
                            label: 'Remove'}">
                    </div>

                    <div id="toolbarAddFilesBtn" class="toolbar-btn toolbar-btn-right"
                         data-win-control="WinJS.UI.NavBarCommand"
                         data-win-options="{
                            icon: 'add',
                            label: 'Add Files'}">
                    </div>
                </div>

                <div id="fileBrowser">
                    <!-- ListView Header template -->
                    <div id="leftHeaderTemplate" class="left-header-template"
                         data-win-control="WinJS.Binding.Template">
                        <div class="left-header-template-root">
                            <div data-win-bind="innerText: title"></div>
                        </div>
                    </div>

                    <!-- ListView Template  -->
                    <div class="listview-template" id="listViewTemplate"
                         data-win-control="WinJS.Binding.Template">
                        <div class="listview-template-item">
                            <div class="listview-template-item-icon" id="lisViewTemplateItemIcon"
                                 data-win-bind="innerHTML: icon"></div>

                            <div class="listview-template-item-detail">
                                <div class="listview-template-item-title" data-win-bind="textContent: title"></div>
                                <div class="listview-template-item-date" data-win-bind="textContent: text"></div>
                            </div>
                        </div>
                    </div>

                    <!-- ListView items in the zoomed out of the SemanticZoom template -->
                    <div id="semanticZoomTemplate" data-win-control="WinJS.Binding.Template">
                        <div class="semanticZoomItem">
                            <h2 class="semanticZoomItem-Text" data-win-bind="innerText: title"></h2>
                        </div>
                    </div>

                    <!-- Custom controlls of the Semantic zoom -->
                    <div id="semanticZoom" data-win-control="WinJS.UI.SemanticZoom">
                        <!-- Zoomed in display mode -->
                        <div id="zoomedInListView" class="win-selectionstylefilled"
                             data-win-control="WinJS.UI.ListView"
                             data-win-options="{
                                itemDataSource: FileBrowser.data.dataSource,
                                itemTemplate: FileBrowser.multistageRenderer,
                                groupDataSource: FileBrowser.data.groups.dataSource,
                                groupHeaderTemplate: select('#leftHeaderTemplate'),
                                selectionMode: 'multi',
                                tapBehavior: WinJS.UI.TapBehavior.toggleSelect,
                                layout: { type: WinJS.UI.GridLayout, groupHeaderPosition: 'left' }
                             }">
                        </div>

                        <!-- Zoomed out display mode -->
                        <div id="zoomedOutListView"
                             data-win-control="WinJS.UI.ListView"
                             data-win-options="{
                                itemDataSource: FileBrowser.data.groups.dataSource,
                                itemTemplate: FileBrowser.placeholderRenderer,
                                selectionMode: 'none',
                                tapBehavior: 'invoke'
                             }">
                        </div>
                    </div>
                </div>


                <!-- Authorization panel -->
                <div class="clouds-authorization-panel" id="authPanel">
                    <div class="panel-head">
                        <div id="hamburgerBtn" class="toolbar-btn toolbar-btn-left"
                             data-win-control="WinJS.UI.NavBarCommand"
                             data-win-options="{ icon: 'hamburger' }">
                        </div>
                    </div>
                </div>

                <!-- Undo change Popup dialog -->
                <div class="undo-changes" id="undoChangeLine">
                    <div id="undoChangeBtn" class="undo-change-btn win-button"
                         data-win-control="WinJS.UI.NavBarCommand"
                         data-win-options="{ icon: 'undo', label: 'Undo Change' }">
                    </div>

                    <div id="closeUndoPanelBtn" class="close-undo-line-btn win-button"
                         data-win-control="WinJS.UI.NavBarCommand"
                         data-win-options="{ icon: 'clear' }">
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>