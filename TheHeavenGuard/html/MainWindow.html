<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    <title>The Heaven Guard</title>

    <!-- WinJS references -->
    <link href="/Microsoft.WinJS.4.4/css/ui-dark.css" rel="stylesheet" />

    <script src="/Microsoft.WinJS.4.4/js/base.js"></script>
    <script src="/Microsoft.WinJS.4.4/js/ui.js"></script>

    <!-- TheHeavenGuard references -->
    <link href="/css/MainWindow.css" rel="stylesheet" />
    <link href="/css/font-awesome.css" rel="stylesheet" />

    <script src="/js/pouchdb-5.4.4.min.js"></script> <!-- NoSQL javascript database https://pouchdb.com/ -->
    <script src="/js/Configurations.js"></script> <!-- cloud's uri for xhr -->
    <!--
        MainWindow.js use
        PouchDB as local database,
        Configurator as cloud uri for xhr
    -->
    <script src="/js/MainWindow.js"></script>
    <script src="/js/SettingsPage.js"></script>

    <script src="/js/Databases.js"></script> <!-- Configure databases -->
    <script src="/js/AuthPanel.js"></script> <!-- Left panel functions -->
    <script src="/js/FileBrowser.js"></script> <!-- Client side files to synchronize -->
    <script src="/js/GoogleDrive.js"></script> <!-- Google Drive cloud -->
    <script src="/js/BackgroundTransfer.js"></script> <!-- Upload file to server -->
    <script src="/js/XMLHttpRequest.js"></script> <!-- XHR over all -->
</head>

<body>

    <img id="headLogoImg" src="../img/LeftHeaderLogo-68x48.png" width="68" height="48" /> <!-- static -->
    <!-- Content area -->
    <div id="pivot" data-win-control="WinJS.UI.Pivot" data-win-options="{ customLeftHeader: select('#headLogoImg') }">
        <div data-win-control="WinJS.UI.PivotItem" data-win-options="{header : 'Main Page'}">
            <div class="main-page" id="mainPage">
                <div class="toolbar">
                    <a id="startSyncFilesBtn" class="toolbar-btn toolbar-btn-left">
                        <i class="fa fa-refresh fa-fw"></i>&nbsp; Start sync
                    </a>

                    <a id="toolbarAddFilesBtn" class="toolbar-btn toolbar-btn-right">
                        <i class="fa fa-plus"></i>&nbsp; Add Files
                    </a>
                </div>

                <div id="fileBrowser">
                    <div class="progress-bar" id="progressBar"></div>

                    <!-- List of current user files -->
                    <div id="browserWindow">
                        <!-- Simple template for the ListView instantiation  -->
                        <div class="smallListIconTextTemplate" data-win-control="WinJS.Binding.Template" style="display: none">
                            <div class="smallListIconTextItem">
                                <img src="#" class="smallListIconTextItem-Image" data-win-bind="src: picture" />
                                <div class="smallListIconTextItem-Detail">
                                    <h4 class="win-h4" data-win-bind="textContent: title"></h4>
                                    <h6 class="win-h6" data-win-bind="textContent: text"></h6>
                                </div>
                            </div>
                        </div>

                        <div id="listView" class="listView win-selectionstylefilled"
                             data-win-control="WinJS.UI.ListView"
                             data-win-options="{
                                itemDataSource: FileBrowser.data.dataSource,
                                itemTemplate: select('.smallListIconTextTemplate'),
                                selectionMode: 'none',
                                tapBehavior: 'none',
                                layout: { type: WinJS.UI.GridLayout }
                             }">
                        </div>
                    </div>
                </div>

                <div class="clouds-authorization-panel" id="authPanel">
                    <div class="panel-head">
                        <button id="hamburgerBtn"><i class="fa fa-bars"></i></button>
                    </div>

                    <!-- !Important - change static id to generic for future expansion -->
                    <button id="googleDriveBtn" class="google-drive-auth auth-panel-btn win-button">
                        <img id="googleDriveAvatar" class="cloud-avatar img-circle" src="../img/THG-avatar-48x48.png" />
                        <p id="googleDriveTextBtn" class="auth-btn-text"> Google Drive </p>
                    </button>

                    <button id="oneDriveBtn" class="onedrive-auth auth-panel-btn win-button">
                        <img id="oneDriveAvatar" class="cloud-avatar img-circle" src="../img/THG-avatar-48x48.png" />
                        <p id="oneDriveTextBtn" class="auth-btn-text"> OneDrive </p>
                    </button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>